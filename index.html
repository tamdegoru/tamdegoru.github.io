<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="icon" href="images/logohata.png" type="image/x-icon">
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>

    <!-- Головний CSS -->
    <link rel="stylesheet" href="css/index.css">
</head>
<body>

<!-- HEADER -->
<div 
    hx-get="partials/global.header.html"
    hx-trigger="load"
    hx-swap="outerHTML">
</div>

    <div 
    hx-get="partials/galery.galery.html"
    hx-trigger="load"
    hx-swap="outerHTML">
</div>
    
<!-- Підвантаження футера -->
<div 
    hx-get="partials/global.footer.html"
    hx-trigger="load"
    hx-swap="outerHTML">
</div>

<!-- JS -->

<script >

 function initScrollButton() {
    const scrollBtn = document.getElementById("scrollTopBtn");
    const yearSpan = document.getElementById("year");

    // 1. Логіка кнопки
    if (scrollBtn && !scrollBtn.dataset.initialized) {
        window.addEventListener("scroll", () => {
            // Використовуємо 400 пікселів як поріг
            if (window.scrollY > 400) {
                scrollBtn.classList.add("show");
            } else {
                scrollBtn.classList.remove("show");
            }
        });

        scrollBtn.addEventListener("click", () => {
            window.scrollTo({ top: 0, behavior: "smooth" });
        });

        scrollBtn.dataset.initialized = "true";
        console.log("Кнопка ініціалізована");
    }

    // 2. Оновлення року
    if (yearSpan && !yearSpan.dataset.initialized) {
        yearSpan.textContent = new Date().getFullYear();
        yearSpan.dataset.initialized = "true";
    }
}

// Важливо: HTMX видає подію після вставки контенту
document.addEventListener("htmx:afterProcess", (event) => {
    initScrollButton();
});

// На випадок, якщо футер завантажиться дуже швидко або буде статичним
document.addEventListener("DOMContentLoaded", initScrollButton);

    // Оновлення року
    const yearSpan = document.getElementById("year");
    if (yearSpan && !yearSpan.dataset.initialized) {
        yearSpan.textContent = new Date().getFullYear();
        yearSpan.dataset.initialized = "true";
    }
}

// Запуск при звичайному завантаженні
document.addEventListener("DOMContentLoaded", initScrollButton);

// Запуск щоразу, коли HTMX вставляє новий контент
document.addEventListener("htmx:afterProcess", initScrollButton);
</script>
    

</body>
</html>



















